<catel:UserControl
    x:Class="RestaurantHelper.Views.ManagerViews.Actions.ActionsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:catel="http://catel.codeplex.com"
    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">

    <UserControl.Resources>
        <catel:BooleanToHidingVisibilityConverter x:Key="HidingVisibilityConverter" />
        <catel:ViewModelToViewConverter x:Key="ViewModelToViewConverter" />
    </UserControl.Resources>

    <Grid MinWidth="500" MinHeight="300">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="30*" />
            <ColumnDefinition Width="60*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="10*" />
            <RowDefinition Height="60*" />
        </Grid.RowDefinitions>
        <GroupBox
            x:Name="groupBox"
            Grid.Row="1"
            Grid.Column="0"
            Margin="15,15,15,25"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            Header="Тип акции"
            IsEnabled="{Binding ElementName=AddActionButton, Path=IsChecked}">
            <Grid>
                <ComboBox
                    x:Name="ComboBox"
                    Height="30"
                    Margin="0,15,0,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    VerticalContentAlignment="Center"
                    materialDesign:HintAssist.Hint="Выберите тип акции"
                    IsEditable="False"
                    ItemsSource="{Binding ActionTypes}"
                    SelectedValue="{Binding SelectedActionType}">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="SelectionChanged">
                            <catel:EventToCommand Command="{Binding SelectionChangedCommand}" />
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                </ComboBox>
                <TextBlock
                    x:Name="textBlock1"
                    Margin="25,67,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Text="Описание акции:"
                    TextWrapping="Wrap"
                    Visibility="{Binding ElementName=ComboBox, Path=IsSelectionBoxHighlighted, Converter={StaticResource HidingVisibilityConverter}}" />
                <TextBlock
                    x:Name="textBlock2"
                    Margin="15,97,15,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    FontSize="14"
                    Foreground="{DynamicResource PrimaryHueMidBrush}"
                    Text="{Binding SelectedActionType, Converter={StaticResource ActionTypeToDescriptionConverter}}"
                    TextWrapping="Wrap" />
            </Grid>
        </GroupBox>

        <ContentControl
            Grid.Row="1"
            Grid.Column="1"
            Padding="10"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            Content="{Binding Path=ActionsPage, Converter={StaticResource ViewModelToViewConverter}}" />
        <RadioButton
            x:Name="AddActionButton"
            Grid.Row="0"
            Grid.Column="0"
            Grid.ColumnSpan="2"
            Width="151"
            Margin="67,17,0,0"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Command="{Binding AddActionCommand}"
            Content="Запустить акцию"
            IsChecked="True" />
        <RadioButton
            x:Name="button1"
            Grid.Row="0"
            Grid.Column="1"
            Width="143"
            Margin="84,17,0,0"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Command="{Binding DeleteActionCommand}"
            Content="Удалить акцию" />
    </Grid>

</catel:UserControl>
